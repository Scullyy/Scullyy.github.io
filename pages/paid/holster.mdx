# Holster

Add some realism to your servers gunplay!

## Features

- Holster animation, click [here](https://i.gyazo.com/dc74ad31e7fef9fd63946c2ec40c96f7.gif) for a preview.

- Config option to enable a gangster animation alongside the original, click [here](https://i.gyazo.com/d619a70e7426a94779783f99c370ef09.gif) for a preview.

- Config option to decide if you want to allow players to move while pulling out a weapon.

- Config option to enable persistent flashlights and disable auto reloading.

- Config option to visually remove the weapon from your holster when you pull out any pistol and return it when you put it back.

- Config option to require a bag to pull out certain weapons, click [here](https://i.gyazo.com/b1d8cdb16f3a880c8d228ecb7344ae38.gif) for a preview.

- Config option to require a trunk to pull out certain weapons, click [here](https://i.gyazo.com/db19d3a44bdd751155f2622dfe119485.gif) and [here](https://i.gyazo.com/0c84f73d69ee63dbbe002eee75cc97d0.gif) for previews.

- Config option to blacklist certain weapons from being used by players.

- Config option to enable a command to allow players to choose their holster animation.

- Config option to enable a reaching feature where you put your hand on your holster.

- Config option to disable animations being used on certain weapons.

- Compatible with our [weapon sling](https://forum.cfx.re/t/paid-scully-weapon-sling-v3-synced-with-attachments-tints-and-variants/4842437/61).

- Ability to visually holster tasers, batons and flashlights on supported belts.

Click [here](https://scullys-development.tebex.io/package/5090377) to purchase the escrowed version or [here](https://scullys-development.tebex.io/package/5100075) to purchase the source.

## Installation Instructions

- Download the resource from [here](https://keymaster.fivem.net/asset-grants).

- Unzip the resource, I personally use [7-Zip](https://www.7-zip.org/).

- Drag the resource into your `resources` folder.

- Add `ensure scully_holster` to your `server.cfg` file.

## Permissions (Optional)

If you have the permission system enabled then follow one of the below methods if you have UseAcePerm set to true.

### Server.cfg method:

server.cfg
```
add_ace group.holster group.holster allow

add_principal identifier.discord:530698981920079882 group.holster # Replace identifier with your own.
```

### scully_perms method:

server.cfg
```
add_ace group.holster group.holster allow
```

scully_perms/config.lua
```lua
Config = {
    Debug = false,
    Guild = '', -- Your discord guild ID. (Tutorial: https://github-wiki-see.page/m/manix84/discord_gmod_addon_v2/wiki/Finding-your-Guild-ID-%28Server-ID%29)
    Token = '', -- Your discord bot token from the discord developer portal. (Tutorial: https://www.writebots.com/discord-bot-token/)
    Permissions = { -- Your permissions list, can be used as a string or table.
        ['holster'] = {'roleid', 'roleid2', 'roleid3'} -- Multiple roles example.
    }
}
```

## Exports

Change weapon without doing the holster animation:
```lua
exports.scully_holster:updateWeapon(hash)
```

Disable holster animations:
```lua
exports.scully_holster:disableHolster(true) -- Set to false to re-enable them
```